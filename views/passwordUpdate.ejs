<html>
<head>
	<title>RemBook | Update Password</title>
	<link rev="text/css" rel="stylesheet" href="stylesheets/main.css"/>
	<link rev="text/css" rel="stylesheet" href="stylesheets/login.css"/>
</head>

<body>
	<div class="main">
		
		<div id="loginSignupContainer">
			<div id="tabContainer">
				<a id="loginTab" class="tab active" href="#">RemBook</a>
			</div>
			<div id="loginContainer">
				<form id="loginForm" action="/passwordUpdate" method="post">
                    <%= if (!hasOwnProperty("token")) { %>
  					  <p>
 					  	  <label for="txtPassOld">Old Password: </label>
						  <input type="password" id="txtPassOld" name="oldPassword" placeholder="Your old password..." /> 
					  </p>
                    <%= } else { %>
                    <input type="hidden" name="oldPassword" value="<%= token %>" />
                    <%= }
					<p>
						<label for="txtPassNew">New Password: </label>
						<input type="password" id="txtPassNew" name="newPassword" placeholder="Your new password..." required /> 
					</p>
					<p>
						<label for="txtPassNewConf">New Password (Confirm): </label>
						<input type="password" id="txtPassNewConf" name="newPasswordConfirm" placeholder="Your new password again..." required /> 
					</p>

					<p>
						<label>&nbsp;</label>
						<input type="submit" id="btnSubmit1" value="Update" />
					</p>
					<p>	
						<label class="error"><%= hasOwnProperty("message") ? message : "" %></label>
					</p>
				</form>
			</div>
		</div>
	</div>

	<script type="text/javascript" src="javascripts/jquery-2.1.4.min.js"></script>
	<script type="text/javascript">
		function validateLoginForm() {
			var r = $("#txtRoll1").val(),
				p = $("#txtPass1").val();

			var RE_ROLL = /^[0-9]{9}$/;
			if(!RE_ROLL.test(r))
				return "Enter a valid roll number.";
			if(!p)
				return "Enter a valid password";

			return {
				roll: r,
				pass: p
			};
		}
	</script>
</body>
</html>
